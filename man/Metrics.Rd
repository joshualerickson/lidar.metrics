% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/strata_metrics.R
\name{Metrics}
\alias{Metrics}
\title{Calculate Summary LiDAR Metrics for Vegetation Structure}
\usage{
Metrics(z, i, r)
}
\arguments{
\item{z}{Numeric vector. Elevation (\code{Z}) values of LiDAR returns (typically in meters).}

\item{i}{Numeric vector. \code{Intensity} values of LiDAR returns.}

\item{r}{Integer or logical vector. Return numbers (\code{ReturnNumber}), where 1 typically indicates a first return.}
}
\value{
A named list of LiDAR metrics including:
\itemize{
\item Metrics for all returns above 2 m (e.g., mean height, P95, CV, skewness, etc.)
\item Metrics for first returns above 2 m
\item Intensity-based statistics for both groups
\item Canopy relief ratio, interquartile range, and higher-order moments
\item Percentages of returns above 2 m and above the mean
}
}
\description{
This function computes a set of descriptive statistics (e.g., mean, standard deviation,
quantiles, skewness, kurtosis, etc.) from airborne LiDAR point cloud data. It calculates
metrics for all returns > 2 m and for first returns > 2 m, using both elevation (\code{z})
and intensity (\code{i}) values. It is designed to be memory-efficient and avoids repeated
subsetting or reliance on external packages like \code{moments}.
}
\details{
Metrics are grouped and prefixed as follows:
\describe{
\item{ALL_RETURNS_}{All returns with elevation > 2 m}
\item{FIRST_RETURNS_}{First returns with elevation > 2 m}
}

This function avoids dependency on packages like \code{moments} for skewness and kurtosis by using
internal helper functions. It also avoids repeated subsetting by computing indices once.
}
\note{
This function is a memory-efficient rewrite of older versions of \code{Metrics()} functions commonly used
in LiDAR processing pipelines. It is well-suited for use in \verb{*_metrics()} or similar functions
in the \code{lidR} package.
}
\examples{
\dontrun{
metrics <- Metrics(z = las$Z, i = las$Intensity, r = las$ReturnNumber)
}

}
